# 74ba10de768be8f9348276a7f00d9481
DUT Creative Thinking Course Coursework
This is a coursework for the Creative Thinking and Innovative Development course by DUT.
Verification: 5532e8b04069cf07bf7abab0dfc7d2ce


# colLHMWKDist - Termux 轻量级多语言代码运行器

<div align="center">

**开箱即用，专注单文件,解决安卓本地编程的核心痛点**

</div>

---

## 📖 目录

- [colL - Termux 轻量级多语言代码运行器](#coll---termux-轻量级多语言代码运行器)
  - [📖 目录](#-目录)
  - [✨ 核心亮点](#-核心亮点)
  - [🧠 设计理念与创新方法](#-设计理念与创新方法)
    - [头脑风暴法](#头脑风暴法)
    - [希望点列举法](#希望点列举法)
    - [奥斯本检核表法](#奥斯本检核表法)
    - [TRIZ分割原理](#triz分割原理)
  - [🔧 技术背景与痛点分析](#-技术背景与痛点分析)
    - [现有方案的不足](#现有方案的不足)
    - [本方案解决的核心技术痛点](#本方案解决的核心技术痛点)
  - [🚀 快速开始](#-快速开始)
    - [1. 准备 Termux](#1-准备-termux)
    - [2. 部署脚本](#2-部署脚本)
    - [3. 运行脚本](#3-运行脚本)
  - [📖 使用方法](#-使用方法)
  - [💡 与 Acode 集成](#-与-acode-集成)
  - [🏗️ 核心架构](#️-核心架构)
    - [组件说明](#组件说明)
  - [📄 许可证](#-许可证)

---

## ✨ 核心亮点

- **零成本部署**：纯 Bash 脚本，复制粘贴即可运行，无需安装。
- **解决权限痛点**：独创路径链接机制，完美绕开安卓 storage 目录的执行限制。
- **开箱即用**：支持 Python, C, C++, Java 等主流语言，一键运行。
- **高度集成**：完美适配 Acode 编辑器，实现手机端"编码-运行"一体化体验。
- **智能管理**：自动检测并提示安装缺失的编译器，编译产物可选保留或删除。

---

## 🧠 设计理念与创新方法

本方案的设计不仅追求功能实现，更注重创新思维的系统性应用：

### 头脑风暴法

针对"如何在安卓上方便写代码"这一核心问题，从环境配置、编译器调用、文件管理、用户体验等多个角度进行发散思考，汇集了"一键安装"、"统一接口"、"递归查找"、"UI美化"、"路径链接"等多个创意点。

### 希望点列举法

从用户的理想体验出发，列举出希望工具"能复制粘贴就用"、"能看懂源码"、"短平快"、"UI美观"、"能与Acode集成"、"能解决权限问题"、"能一键安装编译器"等功能点，这些希望点直接驱动了脚本的核心架构和关键功能实现。

### 奥斯本检核表法

对传统的命令行编译方式进行设问：

- **能否改变？** —— 将分散的编译器命令改变为统一的脚本入口。
- **能否组合？** —— 将编译、运行、清理等步骤组合成一个自动化流程。
- **能否扩大？** —— 从支持单一语言扩大到支持十几种主流语言。
- **能否自适？** —— 增加自动检测和安装编译器的功能。

### TRIZ分割原理

将"编译器"这一技术系统中的矛盾双方（功能的多样性与操作的简洁性）分离开来。用户面对的是一个统一的、简洁的脚本界面（整体），而脚本内部则分割处理与不同编译器（部分）的复杂交互。更关键的是，通过将执行环境（~目录）与用户项目目录进行分割和链接，巧妙解决了Termux在安卓存储目录下的权限执行难题。

---

## 🔧 技术背景与痛点分析

在移动开发领域，安卓系统因其封闭性，本地代码编译运行一直是个难题。

### 现有方案的不足

- **直接使用Termux**：学习成本高，操作繁琐，需记忆不同编译器命令。
- **使用在线IDE**：依赖网络，无法离线使用，文件管理不便。
- **使用IDE类App**：体积庞大，功能单一，灵活性不足。

### 本方案解决的核心技术痛点

在Termux环境中，出于安全考虑，用户几乎无法在`~`（用户主目录）之外的目录（如`/storage/emulated/0`）直接执行自编译的程序或某些脚本。这导致在手机常用存储区域的项目无法直接编译运行。本方案通过独创的路径链接机制，完美解决了这一移动端特有的权限与执行环境分离的矛盾。

---

## 🚀 快速开始

### 1. 准备 Termux

从 F-Droid 安装 Termux，并执行：

```bash
pkg update && pkg upgrade
pkg install clang python nodejs openjdk-17 # 安装常用编译器
```

### 2. 部署脚本

在 Termux 中执行以下命令，一键下载并赋予执行权限：

```bash
# 请将下面的 URL 替换为你的脚本实际地址
curl -O https://your-script-url/colL.sh && chmod +x colL.sh
```

### 3. 运行脚本

直接运行进入交互模式：

```bash
./colL.sh
```

或者，使用"配置种子"快速指定你的项目目录：

```bash
./colL.sh f-/storage/emulated/0/Documents/MyCode
```

---

## 📖 使用方法

在交互模式中，你可以：

| 命令          | 功能                                           |
| ------------- | ---------------------------------------------- |
| `vls`         | 列出当前目录及子目录下的所有源文件             |
| `1`           | 运行 `vls` 列表中编号为 `1` 的文件             |
| `test.c`      | 直接运行 `test.c`                              |
| `test.c clang` | 临时使用 `clang` 编译器运行 `test.c`           |
| `checkavails` | 检查所有编译器的安装状态                       |
| `Ctrl+C`      | 退出并显示可复用的"配置种子"                   |

---

## 💡 与 Acode 集成

在 Acode 编辑器中，通过 AcodeXServer 插件唤出 Termux 后台终端，即可像在电脑上一样，写完代码一键运行，体验丝滑。测试中甚至成功在Acode内运行了依赖`numpy`的Python脚本。

---

## 🏗️ 核心架构

本方案的执行流程如下，其中"路径与权限处理模块"是解决核心痛点的关键：

### 组件说明

| 编号 | 组件名称               | 功能说明                                                                                                           |
| ---- | ---------------------- | ------------------------------------------------------------------------------------------------------------------ |
| 1    | 用户输入接口           | 负责接收用户的直接命令行输入，或来自Acode等编辑器通过插件传递的指令。                                             |
| 2    | 命令解析器             | 核心调度模块，用于解析用户输入，判断是执行文件、调用内置命令还是加载配置。                                         |
| 3    | 核心执行引擎           | 脚本的中枢，负责协调各个功能模块，根据解析结果驱动整个编译和运行流程。                                             |
| 4    | 路径与权限处理模块     | 本方案的关键创新模块。负责处理文件路径，将用户项目目录的文件链接到Termux有权限的~目录，并在此目录下执行编译和运行命令，以绕过安卓系统的权限限制。 |
| 5    | 用户项目目录           | 用户实际存放源代码的目录，通常位于安卓共享存储空间。                                                               |
| 6    | 符号链接               | 由路径与权限处理模块创建的特殊文件，它像一个"快捷方式"，让在~目录内的操作可以透明地作用于用户项目目录中的文件。   |
| 7    | 语言配置表             | 脚本内置的核心数据结构，定义了文件扩展名与语言类型、默认编译器、备选编译器的映射关系。                             |
| 8    | 系统编译器             | 指在Termux环境中实际安装的编译器程序，如 gcc, python3, javac 等。                                                 |
| 9    | 依赖管理模块           | 负责在执行前检查所需的编译器是否已安装。如果未安装，则向用户提示一键安装命令。                                     |
| 10   | UI渲染模块             | 负责将脚本执行过程中的所有信息进行格式化处理，使用框线、图标等方式美化输出，提升用户体验。                         |

---



## 📄 许可证

MIT License

